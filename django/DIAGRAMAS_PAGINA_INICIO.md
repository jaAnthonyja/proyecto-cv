# ğŸ¯ Diagrama de Flujo: PÃ¡gina de Inicio

## 1. Flujo de Solicitud HTTP

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Usuario abre navegador y accede a http://127.0.0.1:8000/        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Django recibe GET request a "/"                                  â”‚
â”‚ Busca coincidencia en urlpatterns                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cv/urls.py: path("", views.home, name="home")  â† COINCIDE       â”‚
â”‚ Ejecuta: home(request)                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vista: cv/views.py â†’ home(request)                               â”‚
â”‚                                                                  â”‚
â”‚ 1. perfil = _get_perfil_activo()                                â”‚
â”‚    â””â”€â†’ SELECT * FROM Datospersonales                            â”‚
â”‚        WHERE perfilactivo=True                                  â”‚
â”‚        ORDER BY idperfil DESC LIMIT 1                           â”‚
â”‚                                                                  â”‚
â”‚ 2. permitir_impresion = bool(perfil and ...)                    â”‚
â”‚    â””â”€â†’ Verifica si se permite descargar PDF                    â”‚
â”‚                                                                  â”‚
â”‚ 3. counts = {...}  # Contar elementos activos                   â”‚
â”‚    â””â”€â†’ perfil.cursos.filter(activarparaqueseveaenfront=True)   â”‚
â”‚    â””â”€â†’ perfil.experiencias.filter(...)                         â”‚
â”‚    â””â”€â†’ perfil.productos_academicos.filter(...)                 â”‚
â”‚    â””â”€â†’ ... (6 tablas relacionadas)                             â”‚
â”‚                                                                  â”‚
â”‚ 4. return render(request, "home.html", {...})                   â”‚
â”‚    â””â”€â†’ Pasa context con: perfil, permitir_impresion, counts    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Django renderiza template: cv/templates/home.html                â”‚
â”‚                                                                  â”‚
â”‚ {% if perfil %}                                                 â”‚
â”‚   â”œâ”€â†’ Muestra foto: <img src="{{ perfil.foto_perfil.url }}">  â”‚
â”‚   â”œâ”€â†’ Muestra nombre: <h1>{{ perfil.nombres }}...</h1>         â”‚
â”‚   â”œâ”€â†’ Muestra datos: nacionalidad, cedula, etc.                â”‚
â”‚   â”œâ”€â†’ Muestra secciones: botones de navegaciÃ³n                 â”‚
â”‚   â””â”€â†’ Muestra contadores: {{ counts.cursos }}, etc.            â”‚
â”‚ {% else %}                                                      â”‚
â”‚   â””â”€â†’ "No hay perfil activo"                                   â”‚
â”‚ {% endif %}                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HTML renderizado se envÃ­a al navegador                           â”‚
â”‚ (+ CSS del navegador renderiza estilos)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Usuario ve la pÃ¡gina de inicio con:                           â”‚
â”‚    â€¢ Foto de perfil                                             â”‚
â”‚    â€¢ Nombre y descripciÃ³n                                       â”‚
â”‚    â€¢ Grid de 7 secciones (botones de navegaciÃ³n)               â”‚
â”‚    â€¢ Panel derecho con contadores                              â”‚
â”‚    â€¢ BotÃ³n "Descargar PDF" (si permitir_impresion=True)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Estructura de Base de Datos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           TABLA: Datospersonales                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: idperfil (AutoField)                                    â”‚
â”‚ nombres (CharField)                                         â”‚
â”‚ apellidos (CharField)                                       â”‚
â”‚ foto_perfil (ImageField) â†’ uploads/perfiles/               â”‚
â”‚ descripcionperfil (TextField)                               â”‚
â”‚ nacionalidad (CharField)                                    â”‚
â”‚ lugarnacimiento (CharField)                                 â”‚
â”‚ fechanacimiento (DateField)                                 â”‚
â”‚ numerocedula (CharField)                                    â”‚
â”‚ sexo (CharField) â†’ Choices: H/M                            â”‚
â”‚ sitioweb (URLField)                                         â”‚
â”‚ perfilactivo (BooleanField) â† â­ IMPORTANTE               â”‚
â”‚ permitir_impresion (BooleanField)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 â”‚               â”‚                  â”‚
    â–¼                 â–¼               â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cursos   â”‚    â”‚Experienciaâ”‚   â”‚Productos â”‚   â”‚Reconoc.  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
FK: perfil      FK: perfil      FK: perfil      FK: perfil

[Otros modelos relacionados...]
```

---

## 3. LÃ³gica de Filtrado

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Buscar perfil activo:                                        â”‚
â”‚                                                              â”‚
â”‚ Datospersonales.objects.filter(perfilactivo=True)          â”‚
â”‚                      .order_by("-idperfil")                â”‚
â”‚                      .first()                              â”‚
â”‚                                                              â”‚
â”‚ â”Œâ”€ Paso 1: .filter(perfilactivo=True)                      â”‚
â”‚ â”‚   â””â”€â†’ SELECT * FROM Datospersonales                      â”‚
â”‚ â”‚       WHERE perfilactivo = 1                             â”‚
â”‚ â”‚                                                            â”‚
â”‚ â”œâ”€ Paso 2: .order_by("-idperfil")                          â”‚
â”‚ â”‚   â””â”€â†’ ORDER BY idperfil DESC                             â”‚
â”‚ â”‚       (mÃ¡s reciente primero)                             â”‚
â”‚ â”‚                                                            â”‚
â”‚ â””â”€ Paso 3: .first()                                        â”‚
â”‚     â””â”€â†’ LIMIT 1                                            â”‚
â”‚         (devuelve solo el primer resultado o None)          â”‚
â”‚                                                              â”‚
â”‚ RESULTADO: Un objeto Datospersonales o None                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Contadores de Secciones

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Para CADA secciÃ³n, contar elementos ACTIVOS:                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CURSOS                                                      â”‚
â”‚ count = perfil.cursos                                       â”‚
â”‚         .filter(activarparaqueseveaenfront=True)            â”‚
â”‚         .count()                                            â”‚
â”‚                                                             â”‚
â”‚ Equivale a:                                                 â”‚
â”‚ SELECT COUNT(*) FROM Cursosrealizados                       â”‚
â”‚ WHERE perfil_id = ? AND activarparaqueseveaenfront = 1     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EXPERIENCIAS                                                â”‚
â”‚ count = perfil.experiencias                                 â”‚
â”‚         .filter(activarparaqueseveaenfront=True)            â”‚
â”‚         .count()                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PRODUCTOS ACADÃ‰MICOS                                        â”‚
â”‚ count = perfil.productos_academicos                         â”‚
â”‚         .filter(activarparaqueseveaenfront=True)            â”‚
â”‚         .count()                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PRODUCTOS LABORALES                                         â”‚
â”‚ count = perfil.productos_laborales                          â”‚
â”‚         .filter(activarparaqueseveaenfront=True)            â”‚
â”‚         .count()                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RECONOCIMIENTOS                                             â”‚
â”‚ count = perfil.reconocimientos                              â”‚
â”‚         .filter(activarparaqueseveaenfront=True)            â”‚
â”‚         .count()                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VENTA GARAGE                                                â”‚
â”‚ count = perfil.venta_garage                                 â”‚
â”‚         .filter(activarparaqueseveaenfront=True)            â”‚
â”‚         .count()                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

      â†“  â†“  â†“  â†“  â†“  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Se guardan en diccionario: counts = {...}                   â”‚
â”‚ Se pasan al template para mostrar nÃºmeros                   â”‚
â”‚ Ej: "{{ counts.cursos }}" â†’ "5"                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Renderizado del Template

```
home.html recibe: {perfil, permitir_impresion, counts}
                    â”‚          â”‚                    â”‚
                    â”‚          â”‚                    â”‚
                    â–¼          â–¼                    â–¼

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚           PÃGINA DE INICIO                       â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚                                                  â”‚
         â”‚  â”Œâ”€ COLUMNA IZQUIERDA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
         â”‚  â”‚                                           â”‚   â”‚
         â”‚  â”‚  â”Œâ”€ SECCIÃ“N: PERFIL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
         â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  [Foto: perfil.foto_perfil.url]   â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  Nombre: {{ perfil.nombres }}     â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  Apellido: {{ perfil.apellidos }} â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  Desc: {{ perfil.descripcionperfil }}   â”‚ â”‚
         â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  InformaciÃ³n Personal:              â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  â€¢ Nacionalidad: {{ ... }}         â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  â€¢ Lugar: {{ ... }}                â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  â€¢ Nacimiento: {{ ... }}           â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  â€¢ CÃ©dula: {{ ... }}               â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  â€¢ Sexo: {{ ... }}                 â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  â€¢ Web: [Enlace] {{ ... }}         â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
         â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
         â”‚  â”‚                                           â”‚   â”‚
         â”‚  â”‚  â”Œâ”€ SECCIÃ“N: NAVEGACIÃ“N â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
         â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
         â”‚  â”‚  â”‚  ğŸ§ Datos personales â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
         â”‚  â”‚  â”‚  ğŸ“ Cursos realizados â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
         â”‚  â”‚  â”‚  ğŸ› ï¸  Experiencia laboral â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
         â”‚  â”‚  â”‚  ğŸ“˜ Productos acadÃ©micos â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
         â”‚  â”‚  â”‚  ğŸ’¼ Productos laborales â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
         â”‚  â”‚  â”‚  ğŸ… Reconocimientos â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
         â”‚  â”‚  â”‚  ğŸ·ï¸  Venta garage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
         â”‚  â”‚  â”‚                                     â”‚ â”‚   â”‚
         â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
         â”‚  â”‚                                           â”‚   â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
         â”‚                                                  â”‚
         â”‚  â”Œâ”€ COLUMNA DERECHA: RESUMEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚                                           â”‚  â”‚
         â”‚  â”‚  Resumen rÃ¡pido                   [CV]   â”‚  â”‚
         â”‚  â”‚                                           â”‚  â”‚
         â”‚  â”‚  â”Œâ”€ CONTADORES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
         â”‚  â”‚  â”‚                                  â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚  {{ counts.cursos }}              â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚     Cursos                        â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚                                  â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚  {{ counts.experiencias }}       â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚     Experiencias                 â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚                                  â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚  {{ counts.reconoc }}            â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚     Reconoc.                     â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚                                  â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚  {{ counts.prod_acad }}          â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚     Prod. Acad.                  â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚                                  â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚  {{ counts.prod_lab }}           â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚     Prod. Lab.                   â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚                                  â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚  {{ counts.venta }}              â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚     Venta                        â”‚   â”‚  â”‚
         â”‚  â”‚  â”‚                                  â”‚   â”‚  â”‚
         â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
         â”‚  â”‚                                           â”‚  â”‚
         â”‚  â”‚  Estado de ImpresiÃ³n:                    â”‚  â”‚
         â”‚  â”‚  {% if permitir_impresion %}             â”‚  â”‚
         â”‚  â”‚    [âœ… ACTIVA - Descargar PDF]           â”‚  â”‚
         â”‚  â”‚  {% else %}                              â”‚  â”‚
         â”‚  â”‚    [âŒ DESACTIVADA]                      â”‚  â”‚
         â”‚  â”‚  {% endif %}                             â”‚  â”‚
         â”‚  â”‚                                           â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â”‚                                                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Ãrbol de Archivos Relevantes

```
django/
â”œâ”€â”€ cv/
â”‚   â”œâ”€â”€ views.py â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€ home()
â”‚   â”‚                            â”œâ”€â”€â”€ datos_personales()
â”‚   â”‚                            â”œâ”€â”€â”€ cursos()
â”‚   â”‚                            â”œâ”€â”€â”€ experiencia()
â”‚   â”‚                            â””â”€â”€â”€ ... (mÃ¡s vistas)
â”‚   â”‚
â”‚   â”œâ”€â”€ urls.py â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€ path("", views.home)
â”‚   â”‚                             â”œâ”€â”€â”€ path("datos-personales/", ...)
â”‚   â”‚                             â””â”€â”€â”€ ... (mÃ¡s rutas)
â”‚   â”‚
â”‚   â”œâ”€â”€ models.py â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€ class Datospersonales
â”‚   â”‚                             â”œâ”€â”€â”€ class Cursosrealizados
â”‚   â”‚                             â”œâ”€â”€â”€ class Experiencialaboral
â”‚   â”‚                             â””â”€â”€â”€ ... (mÃ¡s modelos)
â”‚   â”‚
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ base.html â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€ Estructura base
â”‚   â”‚   â”‚                         â””â”€â”€â”€ {% block content %}
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ home.html â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€ Perfil (foto, datos)
â”‚   â”‚   â”‚                         â”œâ”€â”€â”€ Secciones (navegaciÃ³n)
â”‚   â”‚   â”‚                         â””â”€â”€â”€ Resumen (contadores)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ secciones/
â”‚   â”‚       â”œâ”€â”€ datos_personales.html
â”‚   â”‚       â”œâ”€â”€ cursos.html
â”‚   â”‚       â”œâ”€â”€ experiencia.html
â”‚   â”‚       â”œâ”€â”€ productos_academicos.html
â”‚   â”‚       â”œâ”€â”€ productos_laborales.html
â”‚   â”‚       â”œâ”€â”€ reconocimientos.html
â”‚   â”‚       â””â”€â”€ venta_garage.html
â”‚   â”‚
â”‚   â””â”€â”€ static/
â”‚       â””â”€â”€ css/
â”‚           â”œâ”€â”€ cv_fix.css
â”‚           â””â”€â”€ ui_nav.css
â”‚
â”œâ”€â”€ django_portfolio/
â”‚   â”œâ”€â”€ settings.py â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€ INSTALLED_APPS
â”‚   â”‚                            â”œâ”€â”€â”€ DATABASES
â”‚   â”‚                            â””â”€â”€â”€ TEMPLATES
â”‚   â”‚
â”‚   â”œâ”€â”€ urls.py â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ include("cv.urls")
â”‚   â”‚
â”‚   â””â”€â”€ wsgi.py / asgi.py
â”‚
â”œâ”€â”€ db.sqlite3 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Base de datos
â”œâ”€â”€ manage.py
â””â”€â”€ requirements.txt
```

---

## 7. Flujo de Datos - Vista TÃ©cnica

```
HTTP Request GET "/"
        â”‚
        â–¼
Django URL Router (django_portfolio/urls.py)
    â”œâ”€ include("cv.urls")
    â–¼
cv/urls.py
    â”œâ”€ path("", views.home, name="home")  âœ“ MATCH
    â–¼
views.home(request)
    â”œâ”€ _get_perfil_activo()
    â”‚   â””â”€ Datospersonales.objects
    â”‚       .filter(perfilactivo=True)
    â”‚       .order_by("-idperfil")
    â”‚       .first()
    â”‚       â””â”€ SQL Query ejecutado
    â”‚
    â”œâ”€ permitir_impresion = bool(...)
    â”‚
    â”œâ”€ counts["cursos"] = perfil.cursos.filter(...).count()
    â”œâ”€ counts["experiencias"] = perfil.experiencias.filter(...).count()
    â”œâ”€ counts["prod_acad"] = perfil.productos_academicos.filter(...).count()
    â”œâ”€ counts["prod_lab"] = perfil.productos_laborales.filter(...).count()
    â”œâ”€ counts["reconoc"] = perfil.reconocimientos.filter(...).count()
    â””â”€ counts["venta"] = perfil.venta_garage.filter(...).count()
        â””â”€ 6 SQL Queries ejecutados
    â”‚
    â””â”€ render(request, "home.html", {...})
        â””â”€ Context: {perfil, permitir_impresion, counts}
        â””â”€ Django carga cv/templates/home.html
        â””â”€ Renderiza template con contexto
        â””â”€ Genera HTML
        â”‚
        â–¼
    HTML Response (+ status 200 OK)
        â”‚
        â–¼
Navegador recibe HTML
    â”œâ”€ Parsea HTML
    â”œâ”€ Carga CSS (static/css/*.css)
    â”œâ”€ Carga imÃ¡genes (perfil.foto_perfil.url)
    â”œâ”€ Aplica estilos
    â””â”€ Renderiza pÃ¡gina visualmente
        â”‚
        â–¼
    Usuario ve la pÃ¡gina de inicio
```

---

## 8. ConfiguraciÃ³n en settings.py

```python
# âœ… Base de datos
DATABASES = {
    "default": {
        "ENGINE": "django.db.backends.sqlite3",
        "NAME": BASE_DIR / "db.sqlite3",
    }
}

# âœ… Apps instaladas (incluye 'cv')
INSTALLED_APPS = [
    "django.contrib.admin",
    "django.contrib.auth",
    "django.contrib.contenttypes",
    "django.contrib.sessions",
    "django.contrib.messages",
    "django.contrib.staticfiles",
    "storages",
    "cv",  # â† NUESTRA APP
]

# âœ… Templates (busca en cv/templates/)
TEMPLATES = [
    {
        "BACKEND": "django.template.backends.django.DjangoTemplates",
        "DIRS": [BASE_DIR / "templates"],
        "APP_DIRS": True,  # Busca en app/templates/
    }
]

# âœ… Archivos estÃ¡ticos
STATIC_URL = "/static/"
STATIC_ROOT = BASE_DIR / "staticfiles"

# âœ… Archivos media
MEDIA_URL = "https://..."
MEDIA_ROOT = ...
```

